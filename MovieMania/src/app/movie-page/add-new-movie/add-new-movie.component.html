<form [formGroup]="registerNewMovieForm" (ngSubmit)="onSubmit()">
    <div class="form-group form-row">
        <label class="col-form-label col-sm-2">Name</label>
        <input type="text" class="form-control col-sm-4" [(ngModel)]="movie.name"  formControlName="name">
        <small *ngIf="registerNewMovieForm.controls.name.touched && registerNewMovieForm.controls.name.errors?.required" class="text-danger">Name is required</small>
    </div>

    <div class="form-group form-row">
        <label class="col-form-label col-sm-2">Description</label>
        <textarea class="form-control col-sm-4" [(ngModel)]="movie.description"  formControlName="description"></textarea>
        <small *ngIf="registerNewMovieForm.controls.description.touched && registerNewMovieForm.controls.description.errors?.required" class="text-danger">Description is required</small>
        <small *ngIf="registerNewMovieForm.controls.description.touched && registerNewMovieForm.controls.description.errors?.minlength && !registerNewMovieForm.controls.description.errors?.maxlength" class="text-danger">Description length is between 30 and 255</small>
    </div>

    <div class="form-group form-row">
        <label class="col-form-label col-sm-2">Year</label>
        <input type="text" class="form-control col-sm-4" [(ngModel)]="movie.year"  formControlName="year">
        <small *ngIf="registerNewMovieForm.controls.year.touched && registerNewMovieForm.controls.year.errors?.required" class="text-danger">Year is required</small>
        <small *ngIf="registerNewMovieForm.controls.year.touched && registerNewMovieForm.controls.year.errors?.minlength" class="text-danger">Minimal year length is 4</small>
    </div>

    <div class="form-group form-row">
        <label class="col-form-label col-sm-2">Rating</label>
        <input type="text" class="form-control col-sm-4" [(ngModel)]="movie.rating" [ngModelOptions]="{standalone: true}">
    </div>

    <div class="form-group form-row">
        <label class="col-form-label col-sm-2">Duration</label>
        <input type="text" class="form-control col-sm-4" [(ngModel)]="movie.duration" [ngModelOptions]="{standalone: true}">
    </div>

    <div class="form-group form-row">
        <label class="col-form-label col-sm-2">Director</label>
        <input type="text" class="form-control col-sm-4" [(ngModel)]="movie.director" [ngModelOptions]="{standalone: true}">
    </div>

    <div class="form-group form-row">
        <label class="col-form-label col-sm-2">Genre</label>
        <select class="form-control col-sm-2" [(ngModel)]="movie.genre" [ngModelOptions]="{standalone: true}" >
            <option *ngFor="let genre of genres" value="{{genre.name}}">{{genre.name}}</option>
            
        </select>

        <span class="btn btn-primary" (click)="openGenreForm()">+</span>
    </div>
    <!-- <button class="btn btn-primary" (click)="addMovie()">Save</button> -->

    <div *ngIf="flag">
        <div class="form-group form-row">
            <label class="col-form-label col-sm-2">Enter new genre</label>
            <input type="text" class="form-control col-sm-2" [(ngModel)]="newGenre.name" name="newGenre" [ngModelOptions]="{standalone: true}">
            <span class="btn btn-primary col-sm-2" (click)="addNewGenre()">Add new genre</span>
    
        </div>
    </div>

    <button class="btn btn-primary" type="submit" [disabled]="registerNewMovieForm.invalid">Submit</button>

    </form>

    